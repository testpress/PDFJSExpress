/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[0],{364:function(Da,xa,z){z.r(xa);z.d(xa,"ByteRangeRequest",function(){return w});var na=z(2),ia=z(0);z.n(ia);var ka=z(1),ea=z(124);Da=z(78);var ca=z(205),x=z(60),r=z(56),n=z(204),a=z(140);z=z(319);var e=[],f=[],h=window,y=function(){return function(){this.bl=1}}(),b;(function(fa){fa[fa.UNSENT=0]="UNSENT";fa[fa.DONE=4]="DONE"})(b||(b={}));var w=function(){function fa(ja,ba,ha,da){var la=this;this.url=ja;this.range=ba;this.Le=ha;
this.withCredentials=da;this.rX=b;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);h.Uint8Array&&(this.request.responseType="arraybuffer");da&&(this.request.withCredentials=da);aa.DISABLE_RANGE_HEADER||(Object(ia.isUndefined)(ba.stop)?this.request.setRequestHeader("Range","bytes="+ba.start):this.request.setRequestHeader("Range",["bytes=",ba.start,"-",ba.stop-1].join("")));this.request.setRequestHeader("X-Requested-With","XMLHttpRequest");ha&&Object.keys(ha).forEach(function(ua){la.request.setRequestHeader(ua,
ha[ua])});this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=n.a.NOT_STARTED}fa.prototype.start=function(ja){var ba=this,ha=this.request;ha.onreadystatechange=function(){if(ba.aborted)return ba.status=n.a.ABORTED,ja({code:n.a.ABORTED});if(this.readyState===ba.rX.DONE){ba.Fz();var da=0===window.document.URL.indexOf("file:///");200===ha.status||206===ha.status||da&&0===ha.status?
(da=h.kP(this),ba.$I(da,ja)):(ba.status=n.a.ERROR,ja({code:ba.status,status:ba.status}))}};this.request.send(null);this.status=n.a.STARTED};fa.prototype.$I=function(ja,ba){this.status=n.a.SUCCESS;if(ba)return ba(!1,ja)};fa.prototype.abort=function(){this.Fz();this.aborted=!0;this.request.abort()};fa.prototype.Fz=function(){var ja=Object(a.c)(this.url,this.range,f);-1!==ja&&f.splice(ja,1);if(0<e.length){ja=e.shift();var ba=new fa(ja.url,ja.range,this.Le,this.withCredentials);ja.request=ba;f.push(ja);
ba.start(Object(a.d)(ja))}};fa.prototype.extend=function(ja){var ba=Object.assign({},this,ja.prototype);ba.constructor=ja;return ba};return fa}(),aa=function(fa){function ja(ba,ha,da,la,ua){da=fa.call(this,ba,da,la)||this;da.dl={};da.iy=ha;da.url=ba;da.DISABLE_RANGE_HEADER=!1;da.Dv=w;da.NJ=3;da.Le=ua||{};return da}Object(na.c)(ja,fa);ja.prototype.Lt=function(ba,ha,da){var la=-1===ba.indexOf("?")?"?":"&";switch(da){case !1:case r.a.NEVER_CACHE:ba=ba+la+"_="+Object(ia.uniqueId)();break;case !0:case r.a.CACHE:ba=
ba+la+"_="+ha.start+","+(Object(ia.isUndefined)(ha.stop)?"":ha.stop)}return ba};ja.prototype.AN=function(ba,ha,da,la){void 0===da&&(da={});return new this.Dv(ba,ha,da,la)};ja.prototype.R2=function(ba,ha,da,la,ua){for(var ma=0;ma<e.length;ma++)if(Object(ia.isEqual)(e[ma].range,ha)&&Object(ia.isEqual)(e[ma].url,ba))return e[ma].hg.push(la),e[ma].FA++,null;for(ma=0;ma<f.length;ma++)if(Object(ia.isEqual)(f[ma].range,ha)&&Object(ia.isEqual)(f[ma].url,ba))return f[ma].hg.push(la),f[ma].FA++,null;da={url:ba,
range:ha,iy:da,hg:[la],FA:1};if(0===e.length&&f.length<this.NJ)return f.push(da),da.request=this.AN(ba,ha,ua,this.withCredentials),da;e.push(da);return null};ja.prototype.Em=function(ba,ha,da){var la=this.Lt(ba,ha,this.iy);(ba=this.R2(la,ha,this.iy,da,this.Le))&&ba.request.start(Object(a.d)(ba));return function(){var ua=Object(a.c)(la,ha,f);if(-1!==ua){var ma=--f[ua].FA;0===ma&&f[ua].request&&f[ua].request.abort()}else ua=Object(a.c)(la,ha,e),-1!==ua&&(ma=--e[ua].FA,0===ma&&e.splice(ua,1))}};ja.prototype.SO=
function(){return{start:-ea.a}};ja.prototype.O5=function(){var ba=-(ea.a+ea.e);return{start:ba-ea.d,end:ba}};ja.prototype.sr=function(ba){var ha=this;this.ny=!0;var da=ea.a;this.Em(this.url,this.SO(),function(la,ua,ma){function ra(){var oa=ha.Gd.PO();ha.Em(ha.url,oa,function(sa,ta){if(sa)return Object(ka.i)("Error loading central directory: "+sa),ba(sa);ta=Object(x.a)(ta);if(ta.length!==oa.stop-oa.start)return ba("Invalid XOD file: Zip central directory data is wrong size! Should be "+(oa.stop-oa.start)+
" but is "+ta.length);ha.Gd.dS(ta);ha.jE=!0;ha.ny=!1;return ba(!1)})}if(la)return Object(ka.i)("Error loading end header: "+la),ba(la,ua,ma);ua=Object(x.a)(ua);if(ua.length!==da)return ba("Invalid XOD file: Zip end header data is wrong size!");try{ha.Gd=new ca.a(ua)}catch(oa){return ba(oa)}ha.Gd.h7?ha.Em(ha.url,ha.O5(),function(oa,sa){if(oa)return Object(ka.i)("Error loading zip64 header: "+oa),ba(oa);sa=Object(x.a)(sa);ha.Gd.z7(sa);ra()}):ra()})};ja.prototype.hP=function(ba){ba(Object.keys(this.Gd.dm))};
ja.prototype.QH=function(ba,ha){var da=this;if(this.Gd.sN(ba)){var la=this.Gd.wz(ba);if(la in this.dl){var ua=this.kh[ba];ua.qq=this.dl[la];ua.qq.bl++;ua.cancel=ua.qq.cancel}else{var ma=this.Gd.n4(ba),ra=this.Em(this.url,ma,function(sa,ta){sa?(Object(ka.i)('Error loading part "'+ba+'": '+sa),da.Em(da.url,ma,function(qa,wa){if(qa)return ha(qa,ba);da.hS(wa,ma,la,ba,ha)})):da.hS(ta,ma,la,ba,ha)}),oa=this.kh[ba];oa&&(oa.nU=!0,oa.cancel=function(){oa.qq.bl--;0===oa.qq.bl&&(ra(),delete da.dl[la])},this.dl[la]=
new y(la),oa.qq=this.dl[la],oa.qq.cancel=oa.cancel)}}else delete this.kh[ba],ha(Error('File not found: "'+ba+'"'),ba)};ja.prototype.hS=function(ba,ha,da,la,ua){if(ba.length!==ha.stop-ha.start)ua(Error("Part data is wrong size!"),la);else{do{if(!this.dl[da])return;la=this.dl[da].bl;for(var ma=ha.ip.length,ra=0;ra<ma;++ra){var oa=ha.ip[ra];ua(!1,oa.ep,ba["string"===typeof ba?"substring":"subarray"](oa.start,oa.stop),this.Gd.eQ(oa.ep));oa.ep in this.kh&&delete this.kh[oa.ep]}}while(la!==this.dl[da].bl);
delete this.dl[da]}};ja.DISABLE_RANGE_HEADER=!1;ja.NJ=3;return ja}(Da.a);(function(fa){function ja(ba,ha,da){var la=fa.call(this)||this,ua;for(ua in ba)la[ua]=ba[ua];la.Uga=ba;la.startOffset=ha;la.endOffset=da;la.AN=function(ma,ra,oa,sa){Object(ia.isUndefined)(ra.stop)?(ra.start+=la.endOffset,ra.stop=la.endOffset):(ra.start+=la.startOffset,ra.stop+=la.startOffset);ma=la.Lt(la.url,ra,la.iy);return new ba.Dv(ma,ra,oa,sa)};return la}Object(na.c)(ja,fa);return ja})(aa);Object(z.a)(aa);Object(z.b)(aa);
xa["default"]=aa}}]);}).call(this || window)
